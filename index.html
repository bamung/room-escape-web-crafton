<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>방탈출 소개 사이트</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<!-- 네비게이션 -->
<header class="navbar">
  <a href="#home" class="logo">Escape-8</a>
  <nav>
    <ul>
      <li><a href="#home">홈</a></li>
      <li><a href="#rooms">테마 소개</a></li>
      <li><a href="#maps">오시는 길</a></li>
      <li><a href="#reservation">예약</a></li>
      <li><a href="#contact">문의</a></li>
    </ul>
  </nav>
</header>

<!-- 홈 -->
<section id="home" class="home fade-in">
  <div class="home-content">
    <h1>방탈출의 짜릿함을 경험하세요!</h1>
    <p>8개의 다채로운 테마가 당신을 기다리고 있습니다.</p>
    <a href="#reservation" class="button">지금 예약하기</a>
  </div>
</section>

<!-- 방 소개 -->
<section id="rooms" class="rooms fade-in">
  <h2>테마 소개</h2>
  <div class="room-list"></div>
</section>

<!-- 오시는 길 -->
<section id="maps" class="maps fade-in">
  <div class="map-info fade-in">
    <h2>오시는 길</h2>
    <p>에버라인 둔전역에서 하차 후 1번 출구로 나와 도보 15분 거리</p>
    <p>주차 가능</p>
    <p>주소: 경기도 용인시 처인구 영문로 55</p>
  </div>
  <div class="map-image fade-in">
    <img src="images/map.png" alt="Escape-8 지도"/>
  </div>
</section>

<!-- 예약 -->
<section id="reservation" class="reservation fade-in">
  <h2>예약</h2>
  <form id="reservationForm">
    <h3>날짜 선택</h3>
    <input type="date" name="date" required />

    <h3>테마 선택</h3>
    <div class="option-group" id="themeButtons"></div>
    <input type="hidden" name="theme" id="selectedTheme" />

    <h3>시간 선택</h3>
    <div class="option-group" id="timeButtons"></div>
    <input type="hidden" name="time" id="selectedTime" />

    <button type="submit" class="btn-submit">예약 완료</button>
  </form>
</section>

  <!-- 문의 -->
  <footer id="contact" class="footer">
    <p>사업자등록번호 012-34-56789</p>
    <p>문의: escape-8@example.com | 전화: 010-1234-5678</p>
    <p>© Escape-8. All rights reserved.</p>
  </footer>

  <!-- JS -->
  <script>
    const rooms = [
      {
        img: "images/mansion_murder.png",
        alt: "저택 살인사건",
        title: "저택 살인사건",
        desc: "기묘한 살인사건에 휘말린 우리,<br> 진상을 밝힐 수 있을까?",
        details: { 테마타입: "추리", 장르: "스릴러, 추리", 장치비중: "60%", 활동성: "80%", 공포도: "50%" }
      },
      {
        img: "images/prison_escape.png",
        alt: "감옥 탈출",
        title: "감옥 탈출",
        desc: "깨어나니 여긴 감옥 속,<br> 제한시간 안에 탈출하라!",
        details: { 테마타입: "탈출", 장르: "스릴러", 장치비중: "50%", 활동성: "70%", 공포도: "30%" }
      },
      {
        img: "images/hidden_temple.png",
        alt: "비밀의 유적",
        title: "비밀의 유적",
        desc: "비밀의 유적에 온 보물사냥꾼<br> 숨겨진 단서를 찾아 쟁취하라!",
        details: { 테마타입: "탐험", 장르: "모험, 추리", 장치비중: "40%", 활동성: "90%", 공포도: "20%" }
      },
      {
        img: "images/ocean_war.png",
        alt: "충무공 이순신",
        title: "충무공 이순신",
        desc: "내가 타고 있는 이 배가 거북선?<br> 반드시 전쟁에서 승리하리라!",
        details: { 테마타입: "탐험", 장르: "모험, 판타지", 장치비중: "70%", 활동성: "80%", 공포도: "10%" }
      },
      {
        img: "images/astronaut.jpg",
        alt: "우주비행사",
        title: "우주비행사",
        desc: "우주 정거장 사고 속에서<br> 살아남아 돌아가자!",
        details: { 테마타입: "생존", 장르: "SF", 장치비중: "65%", 활동성: "50%", 공포도: "40%" }
      },
      {
        img: "images/ancient_temple.jpg",
        alt: "고대 사원 아몬",
        title: "고대 사원 아몬",
        desc: "신비한 사원에서<br> 숨겨진 보물을 찾아라!",
        details: { 테마타입: "탐험", 장르: "모험, 미스터리", 장치비중: "70%", 활동성: "80%", 공포도: "30%" }
      },
      {
        img: "images/zombie_envasion.jpg",
        alt: "좀비 아포칼립스",
        title: "좀비 아포칼립스",
        desc: "좀비로 가득한 도시에서<br> 살아남아 탈출하라!",
        details: { 테마타입: "타임어택", 장르: "공포, 스릴러", 장치비중: "75%", 활동성: "85%", 공포도: "90%" }
      },
      {
        img: "images/magic_school.jpg",
        alt: "마법 학교",
        title: "마법 학교",
        desc: "마법과 신비가 가득한<br> 학교에서 비밀을 밝혀라!",
        details: { 테마타입: "모험", 장르: "판타지, 미스터리", 장치비중: "50%", 활동성: "60%", 공포도: "10%" }
      }
    ];

    function createRoomCards(data) {
      const container = document.querySelector(".room-list");
      container.innerHTML = "";
      data.forEach(room => {
        const detailHTML = Object.entries(room.details)
          .map(([k, v]) => `<li><strong>${k}:</strong> ${v}</li>`).join("");
        const cardHTML = `
          <div class="room-card fade-in">
            <img src="${room.img}" alt="${room.alt}">
            <div class="overlay">
              <h3>${room.title}</h3>
              <p>${room.desc}</p>
              <ul class="details">${detailHTML}</ul>
            </div>
          </div>
        `;
        container.insertAdjacentHTML("beforeend", cardHTML);
      });
    }

    function createButtons(container, items, hiddenField) {
      items.forEach(val => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "btn-option";
        btn.textContent = val;
        btn.addEventListener("click", () => {
          container.querySelectorAll(".btn-option").forEach(b => b.classList.remove("selected"));
          btn.classList.toggle("selected");
          hiddenField.value = btn.classList.contains("selected") ? val : "";
        });
        container.appendChild(btn);
      });
    }

    document.addEventListener("DOMContentLoaded", () => {
      createRoomCards(rooms);

      const THEMES = rooms.map(r => r.title);
      const TIMES = ["8:00","10:00","12:00","14:00","16:00","18:00","20:00","22:00"];
      const themeWrap = document.getElementById("themeButtons");
      const timeWrap = document.getElementById("timeButtons");
      const hiddenTheme = document.getElementById("selectedTheme");
      const hiddenTime = document.getElementById("selectedTime");

      createButtons(themeWrap, THEMES, hiddenTheme);
      createButtons(timeWrap, TIMES, hiddenTime);

      document.getElementById("reservationForm").addEventListener("submit", e => {
        e.preventDefault();
        if (!hiddenTheme.value || !hiddenTime.value || !document.querySelector('input[name="date"]').value) {
          alert("날짜, 테마, 시간을 모두 선택해주세요.");
          return;
        }
        alert(`📅 예약 내용 확인\n\n날짜: ${document.querySelector('input[name="date"]').value}\n테마: ${hiddenTheme.value}\n시간: ${hiddenTime.value}\n\n예약이 완료되었습니다!`);
      });

let lastScrollY = window.scrollY;

const observer = new IntersectionObserver((entries) => {
  const currentScrollY = window.scrollY;
  const direction = currentScrollY > lastScrollY ? 'down' : 'up';
  lastScrollY = currentScrollY;

  entries.forEach(entry => {
    if (entry.isIntersecting) {
      // 방향에 따라 클래스 부여
      entry.target.classList.remove('fade-up', 'fade-down'); // 초기화
      if (direction === 'down') {
        entry.target.classList.add('fade-up');
      } else {
        entry.target.classList.add('fade-down');
      }
      entry.target.classList.add('visible');
    } else {
      entry.target.classList.remove('visible');
    }
  });
}, { threshold: 0.1 });

// 모든 fade-in 요소 관찰
document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
    });
  </script>
</body>
</html>
